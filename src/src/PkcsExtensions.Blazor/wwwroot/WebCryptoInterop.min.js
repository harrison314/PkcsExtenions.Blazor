var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},PkcsExtensionsBlazor;(function(n){function t(n){return window.btoa(n.reduce(function(n,t){return n+String.fromCharCode(t)},""))}function i(n){for(var f,t=Promise.resolve(0),i={},e=function(r){n[r]&&typeof n[r].then=="function"?t=t.then(function(){return n[r].then(function(n){return i[r]=n})}):i[r]=n[r]},r=0,u=Object.keys(n);r<u.length;r++)f=u[r],e(f);return t.then(function(){return i})}function c(){window.PkcsExtensionsBlazor_getRandomValues=f;window.PkcsExtensionsBlazor_generateKeyRsa=e;window.PkcsExtensionsBlazor_generateKeyEcdsa=o;window.PkcsExtensionsBlazor_sharedEphemeralDhmSecret=s;window.PkcsExtensionsBlazor_sharedDhmSecret=h}var f=function(n){var i=new Uint8Array(n);return crypto.getRandomValues(i),t(i)},e=function(n,i){return i===void 0&&(i="RSA-OAEP"),crypto.subtle.generateKey({name:i,modulusLength:n,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["encrypt","decrypt"]).then(function(n){return crypto.subtle.exportKey("pkcs8",n.privateKey)}).then(function(n){return t(new Uint8Array(n))})},u=function(n){return{kty:"EC",crv:n.crv,d:n.d,x:n.x,y:n.y}},r=function(n){return n.d?{kty:"EC",crv:n.crv,d:n.d,x:n.x,y:n.y,ext:!0}:{kty:"EC",crv:n.crv,x:n.x,y:n.y,ext:!0}},o=function(n){var t={name:"ECDSA",namedCurve:n};return crypto.subtle.generateKey(t,!0,["sign","verify"]).then(function(n){return crypto.subtle.exportKey("jwk",n.privateKey)}).then(function(n){return u(n)})},s=function(n,f){f===void 0&&(f=256);var e={name:"ECDH",namedCurve:n.crv},o=window.crypto.subtle.importKey("jwk",r(n),e,!0,["deriveBits"]),s=window.crypto.subtle.generateKey(e,!0,["deriveBits"]);return i({otherPublicKey:o,ephemeralKeyPair:s}).then(function(n){var r=window.crypto.subtle.deriveBits({name:"ECDH",public:n.otherPublicKey},n.ephemeralKeyPair.privateKey,f).then(function(n){return new Uint8Array(n)}),e=window.crypto.subtle.exportKey("jwk",n.ephemeralKeyPair.publicKey);return i({publicJwk:e,bits:r}).then(function(n){return __assign(__assign({},u(n.publicJwk)),{derivedBits:t(n.bits)})})})},h=function(n,u,f){f===void 0&&(f=256);var e={name:"ECDH",namedCurve:u.crv},o=window.crypto.subtle.importKey("jwk",r(u),e,!0,["deriveBits"]),s=window.crypto.subtle.importKey("jwk",r(n),e,!0,["deriveBits"]);return i({publicKey:o,privateKey:s}).then(function(n){return window.crypto.subtle.deriveBits({name:"ECDH",public:n.publicKey},n.privateKey,f).then(function(n){return t(new Uint8Array(n))})})};n.Load=c})(PkcsExtensionsBlazor||(PkcsExtensionsBlazor={}));PkcsExtensionsBlazor.Load();